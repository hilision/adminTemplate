<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Data Table | Kiaalap - Kiaalap Admin Template</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS
		============================================ -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Bootstrap CSS
		============================================ -->
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="editor/css/editormd.min.css" />
</head>

<body>
    <!--[if lt IE 8]>
		<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <!-- Start Welcome area -->
    <div class="data-table-area mg-b-15">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="sparkline13-list">
                        <div id="editormd">
                            <textarea style="display:none;">### Hello Editor.md !</textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- jquery============================================ -->
    <script src="js/vendor/jquery-1.12.4.min.js"></script>
    <!-- bootstrap JS
		============================================ -->
    <script src="js/bootstrap.min.js"></script>
    <script src="editor/editormd.min.js"></script>
    <script type="text/javascript">
        $(function () {
            var editor = editormd("editormd", {
                path: "lib/", // Autoload modules mode, codemirror, marked... dependents libs path
                width: "90%",
                height: 540,
                toolbarIcons: function () {
                    // Or return editormd.toolbarModes[name]; // full, simple, mini
                    // Using "||" set icons align right.
                    return ["undo", "redo", "|", "bold", "hr", "|", "preview", "watch", "|", "fullscreen", "info", "testIcon", "testIcon2", "file", "watch", "fullscreen", "preview", "testIcon", "file", "faicon"]
                },
                // 用于增加自定义工具栏的功能，可以直接插入HTML标签，不使用默认的元素创建图标
                toolbarCustomIcons: {
                    faicon: "<button type='button' class='btn btn-custon-rounded-three btn-success'><i class='fa fa-check edu-checked-pro' aria-hidden='true' onclick='alert(\"ok\");'></i> Success</button>"
                },
                // 自定义工具栏按钮的事件处理
                toolbarHandlers: {
                    /**
                        * @param {Object}      cm         CodeMirror对象
                        * @param {Object}      icon       图标按钮jQuery元素对象
                        * @param {Object}      cursor     CodeMirror的光标对象，可获取光标所在行和位置
                        * @param {String}      selection  编辑器选中的文本
                        */
                    faicon: function (cm, icon, cursor, selection) {
                        alert('ok'); return;
                        //var cursor    = cm.getCursor();     //获取当前光标对象，同cursor参数
                        //var selection = cm.getSelection();  //获取当前选中的文本，同selection参数

                        // 替换选中文本，如果没有选中文本，则直接插入
                        cm.replaceSelection("[" + selection + ":testIcon]");

                        // 如果当前没有选中的文本，将光标移到要输入的位置
                        if (selection === "") {
                            cm.setCursor(cursor.line, cursor.ch + 1);
                        }

                        // this == 当前editormd实例
                        console.log("testIcon =>", this, cm, icon, cursor, selection);
                    },
                }
            });
        });
    </script>
</body>

</html>